---
layout: post
title: DevKitPro Templated Build Directories
date: '2006-09-04T23:50:00.000+09:00'
author: 'Contact:'
tags:
- nds
- dev
- devkitpro
modified_time: '2006-08-25T03:12:33.828+09:00'
blogger_id: tag:blogger.com,1999:blog-5371326417913853395.post-1493516862554304400
blogger_orig_url: http://rendered-obsolete.blogspot.com/2006/08/devkitpro-templated-build-directories.html
---

One thing worth mentioning that's part of the DevKitPro is the "templated" build directories for Nintendo DS projects.  I figured I'd give them a brief explanation since they're kind of unique to DKP.<br /><br />You'll find them in [DevKitPro root dir]/examples/nds/templates/.<br />There should be two sub-directories:<br /><ul><li>arm9/</li><li>combined/<br /></li></ul><br />arm9/ is the simpler of the two, but is for projects that only require an arm9 executable.  combined/ is a bit more complicated but allows for easily creating programs that use both the arm7 and arm9.<br /><br />I'll only talk about the combined/ directory because you can limit yourself to the arm9/ sub-directory if all you want to do is mess around with the arm9, AND you can continue using the same template you've gotten used to as you move on to more complex projects and actually need both processors.  In any case, most things apply to both templates in one way or another, it's just that in the case of combined/ it may be found in a subdirectory.<br /><br /><h3>Template Prep</h3><br /><br />First, what I did was copy the combined/ directory to a location where I can easily find it when doing DS programming.  I then renamed it "template", but you can call it whatever you want.  The basic idea is to be able to just make a copy and rename it for each project you want to start, and you'll have a nice build environment ready to go.<br /><br />Next, I made some changes to the default template because there's some unnecessary junk there (afaic):<br /><br />If you don't use Programmer's Notepad you can safely delete template.pnproj, template.pnps, and template.prj.<br /><br /><pre class="code">cd [template directory]<br />rm template.*<br /></pre><br /><br />I honestly have no idea why this is included with DKP.  Maybe they own stock in it or something.<br /><br />Next, you're going to want to do a "make clean".  At the time of this writing the template directories are being distributed already built.  This can cause problems for you during the linking phase of your project if your directory structure isn't setup just like the developers:<br /><pre class="code">make clean</pre>Now create a "data" subdirectory in the arm7/ and/or arm9/ subdirectories and add them to the relevant Makefile's list of subdirectories:<br /><br /><pre class="code"># For arm9/<br />cd arm9<br />mkdir data</pre><br />Edit arm9/'s Makefile from this:<br /><pre class="code">BUILD  := build<br />SOURCES  := source<br />INCLUDES := include<br />DATA  :=</pre><br />To this:<br /><pre class="code">BUILD  := build<br />SOURCES  := source<br />INCLUDES := include<br />DATA  := data # Or whatever you called the subdirectory you created</pre><br /><br />Your template build directory is ready to go!<br /><br /><h3>Template Usage</h3><br /><br />Creating new projects is as simple as:<br /><ol><br /><li>Copying your template directory</li><br /><li>Renaming it something that fits your project</li><br /><li>Adding files as shown below</li><br /></ol><br /><br /><pre class="code">[root]/<br />    +- arm9/<br />           +- source/ ; Put all source files (*.c, *.cpp, etc.) here<br />           +- data/ ; Binary files (*.bin) go here<br />           +- build/  ; Project will be built here.  Also, *_bin.h files generated<br />                      ; for your *.bin files will end up here.<br />    +- arm7/  ; Basically same as arm9/ directory<br /></pre><br /><br />Change to the [root] directory, run "make" to build everything, and you should have a nice *.nds file waiting for you to debug. =)