---
layout: post
title: Xamarin.Forms on OSX
date: '2017-12-31T09:05:00.000+09:00'
author: 'Contact:'
tags:
- osx
- c#
- xamarin.forms
modified_time: '2017-12-31T09:05:09.969+09:00'
thumbnail: https://3.bp.blogspot.com/-72miX0FI9Ko/WkgpQo-QruI/AAAAAAAACys/A-f1e5olUAocP1BQyaJpEXBmwFZEx0HhQCLcBGAs/s72-c/Screen%2BShot%2B2017-12-31%2Bat%2B08.01.35.png
blogger_id: tag:blogger.com,1999:blog-5371326417913853395.post-7023242016928710605
blogger_orig_url: http://rendered-obsolete.blogspot.com/2017/12/xamarinforms-on-osx.html
---

Not sure how I missed this, but <a href="https://blog.xamarin.com/preview-bringing-macos-to-xamarin-forms/">Xamarin.Forms now has preview support for Mac OSX clients</a>.&nbsp; This is really exciting and I hope they decide to finalize support for OSX as a first-class target.<br /><br />I spend fair amount of time on OSX, so one of my biggest gripes about Forms was lack of support for a native Mac client.&nbsp; On Windows I can target UWP and run projects directly on Windows 10.&nbsp; But, on OSX I have to launch either the iOS or Android target.&nbsp; Not a deal breaker, but certainly cumbersome.<br /><br /><a href="https://www.mvvmcross.com/">MvvmCross</a>&nbsp;promises to be a Xamarin.Forms-like MVVM framework that targets more platforms.&nbsp; But, it seems OSX clients are <a href="https://stackoverflow.com/questions/28234584/mvvmcross-on-xamarin-mac">languishing as a low-priority concern</a> for that project.<br /><br /><h3>Working Client</h3><div>The <a href="https://blog.xamarin.com/preview-bringing-macos-to-xamarin-forms/">xamarin blog's</a>&nbsp;instructions mostly worked.&nbsp; I added a Cocoa app with the latest version of Xamarin.Forms on nuget (2.5.0) to my Forms solution, and made the required changes.</div><div><br /></div><div>Everything built, but when I launched it I got a System.NullReferenceException:</div><pre style="background: #f0f0f0; border: 1px dashed #cccccc; color: black; font-family: &quot;arial&quot;; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">1:  Xamarin.Forms.Platform.MacOS.FormsApplicationDelegate.UpdateMainMenu() in   <br />2:  Xamarin.Forms.Platform.MacOS.FormsApplicationDelegate.DidFinishLaunching(Foundation.NSNotification notification) in   <br />3:  mobile_app.OSX.AppDelegate.DidFinishLaunching(Foundation.NSNotification notification) in /Users/jake/jade/jade/mobile_app/mobile_app.OSX/AppDelegate.cs:33  <br />4:  AppKit.NSApplication.NSApplicationMain() in   <br />5:  AppKit.NSApplication.Main(string[] args) in /Users/builder/data/lanes/5489/c4240f3f/source/xamarin-macios/src/AppKit/NSApplication.cs:100  <br />6:  mobile_app.OSX.MainClass.Main(string[] args) in /Users/jake/jade/jade/mobile_app/mobile_app.OSX/Main.cs:12  <br /></code></pre><br />I found <a href="https://forums.xamarin.com/discussion/comment/309181/#Comment_309181">the solution in the xamarin forums</a>.&nbsp; Need to change the initialization of NSApplication in <b>Main.cs</b>:<br /><pre style="background: #f0f0f0; border: 1px dashed #cccccc; color: black; font-family: &quot;arial&quot;; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">1:  static void Main(string[] args)  <br />2:  {  <br />3:    NSApplication.Init();  <br />4:    NSApplication.SharedApplication.Delegate = new AppDelegate();  <br />5:    NSApplication.SharedApplication.MainMenu = new NSMenu();  // FIX  <br />6:    NSApplication.Main(args);  <br />7:  }  <br /></code></pre>Line 5 is the added line.<br /><br />Giving me a working- albeit embarrassingly trivial- app:<br /><div class="separator" style="clear: both; text-align: center;"><a href="https://3.bp.blogspot.com/-72miX0FI9Ko/WkgpQo-QruI/AAAAAAAACys/A-f1e5olUAocP1BQyaJpEXBmwFZEx0HhQCLcBGAs/s1600/Screen%2BShot%2B2017-12-31%2Bat%2B08.01.35.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="694" data-original-width="858" height="258" src="https://3.bp.blogspot.com/-72miX0FI9Ko/WkgpQo-QruI/AAAAAAAACys/A-f1e5olUAocP1BQyaJpEXBmwFZEx0HhQCLcBGAs/s320/Screen%2BShot%2B2017-12-31%2Bat%2B08.01.35.png" width="320" /></a></div><span id="goog_725635082"></span><span id="goog_725635083"></span><br />