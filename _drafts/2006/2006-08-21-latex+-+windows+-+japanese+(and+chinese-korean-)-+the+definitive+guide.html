---
layout: post
title: 'LaTeX + Windows + Japanese (and Chinese/Korean?): The Definitive Guide'
date: '2006-08-21T22:58:00.000+09:00'
author: 'Contact:'
tags:
- latex
- setup
- windows
- japanese
modified_time: '2006-11-16T14:56:23.250+09:00'
blogger_id: tag:blogger.com,1999:blog-5371326417913853395.post-5557015055513874419
---

For writing technical reports and papers, LaTeX is hands down the way to go if you can tolerate learning the markup language. However, originally coming from *nix land, there are a few wrinkles getting it to work under Windows. Throw a foreign language like Japanese into the mix, and you have a few more wrinkles dealing with font, and char sizes among others in the (generally) English dominated development world.<br /><br />I had to sort a bit of this out from bits and pieces of information I found on the subject. Some of it was complicated by including advice on unrelated things that I wasn't interested in, some was how to set it up under Linux, and some was actually written up in Japanese. This is an attempt to collect and reorganize that information so it's easier for others to do. And, as with most things there's more than one way and I'll try to cover all of them as well as "why" you would choose one method over the others.<br /><br />As of 2006/8/21 there are 3 ways that I know how to setup an environment for creating Japanese LaTeX documents under Windows:<br /><ol><li>Cygwin</li><li>Native pLaTeX</li><li>MiKTeX</li></ol><br /><br /><table><br /><tbody><tr><th>Method:</th><th>Description:</th><th>Pros:</th><th>Cons:</th></tr><br /><tr><br /><td>Cygwin</td><br /><td>Uses the <a href="http://www.cygwin.com/">Cygwin</a> Linux-like environment</td><br /><td><ul><br /><li>LaTeX creation in *nix-like environment for which it was developed</li><br /><li>Best chance to use existing LaTeX-related tools</li><br /><li>Most compatible with existing LaTeX documentation</li><br /><li>Fewer unusual anomolies resulting from platform differences</li><br /><li>Uses tools similar to those used by native Japanese speakers</li><br /><li>Allows for portability to *nix environment</li><br /></ul></td><br /><td><ul><li>Familiarity with *nix recommended</li><br /><li>Probably the most difficult to setup</li></ul></td><br /></tr><br /><tr><br /><td>Native pLaTeX</td><br /><td>Uses a version of pLaTeX natively built for Windows</td><br /><td><ul><br /><li>Uses tools similar to those used by native Japanese speakers</li><br /><li>Allows for portability to *nix environment</li><br /></ul></td><br /><td><ul><br /><li>Requires use of the flimsy Windows command prompt</li><br /><li>Possible "weirdness" resulting from platform differences</li><br /><li>Limited to those tools which are ported</li><br /></ul></td><br /></tr><br /><tr><br /><td>MiKTeX</td><br /><td>Uses the <a href="http://www.miktex.org/">MiKTeX</a> TeX implementation for Windows</td><br /><td><ul><li>Easiest to setup</li></ul></td><br /><td><ul><br /><li>Not the system used by most native Japanese speakers</li><br /><li>Limited to Windows</li><br /><li>Uses tools less commonly used by researchers</li><br /></ul></td><br /></tr><br /></tbody></table><br /><br />In my opinion:<br /><br />If you're comformtable with *nix, already have Cygwin installed, and/or require the best portability/toolset available, the Cygwin method is the clear choice.<br /><br />If you do/may work with Japanese native speakers, and/or may require portability of your *.tex files, the Native pLaTeX method is your best choice.<br /><br />If you only use Windows, will never receive *.tex files from native speakers, and are uncomfortable with *nix, MiKTeX is the winner.<br /><br />Otherwise you will have to look at the pros/cons to get a feel for what's most important to you, or based on what you already have installed. If nothing else, you can setup all of them and pick the one that works best for you (or the only one you can get working- also very important. lol)<br /><br /><h2>The Cygwin Method:</h2><br /><h3>Install Cygwin</h3><br /><li>From the <a href="http://www.cygwin.com/">Cygwin</a> site, download <a href="http://www.cygwin.com/setup.exe">setup.exe</a>.</li><li>Get Cygwin all installed.<br /></li><h3>Install ptetex</h3><ul><li><code>http://www.misojiro.t.u-tokyo.ac.jp/~kuroky/build</code></li><li>ptetex package<br /></li></ul><br /><h3>Test your install</h3><br /><h3>Test English</h3><br /><pre class="code">\documentclass{article}<br />\begin{document}<br />Hello world!<br />\end{document}<br /><br />platex test_eng.tex<br /></pre><br /><h4>Test Japanese</h4><br /><pre class="code">\documentclass{jsarticle}<br />\begin{document}<br /><br />本文。<br /><br />\end{document}</pre><br /><br /><br /><h3>Test Japanese</h3><br /><pre class="code">\documentclass{jarticle}<br />\begin{document}<br /><br />本文。<br /><br />\end{document}<br /></pre><br /><br /><pre class="code">platex test_jap.tex<br />dvipsv test_jap.dvi<br /></pre><br /><br /><h2>Native pLaTeX Method:</h2><br /><h3>Download required files</h3>Download needed files files from <a href="http://www.fsci.fuk.kindai.ac.jp/~kakuto/win32-ptex/web2c75-e.html">http://www.fsci.fuk.kindai.ac.jp/~kakuto/win32-ptex/web2c75-e.html</a>[in English, <a href="http://www.fsci.fuk.kindai.ac.jp/~kakuto/win32-ptex/web2c75.html">Japanese</a>]. I downloaded a good portion of "Minimal" and "Standard" installs. And texinst755.zip.<br /><h3>Install/setup pLaTeX</h3><ol><li>Unzip texinst755.zip.</li><li>Run without arguments for instructions: texinst755 <path>.</path></li><li>Set path as directed by the install script.<br /></li></ol><br /><br /><h3>Test your install</h3><br /><h3>Test English</h3><br /><pre class="code">\documentclass{article}<br />\begin{document}<br />Hello world!<br />\end{document}<br /><br />platex test_eng.tex<br /></pre><br /><h3>Test Japanese</h3><br /><pre class="code">\documentclass{jarticle}<br />\begin{document}<br /><br />本文。<br /><br />\end{document}<br /></pre><br /><br /><pre class="code">platex test_jap.tex<br />dvips test_jap.dvi<br /></pre><br /><br /><h2>MiKTeX Method:</h2><br /><h3>Download/install MiKTeX</h3><br /><ol><br /><li>From the <a href="http://www.miktex.org/">MiKTeX webpage</a>, download <a href="http://www.miktex.org/2.5/Setup.aspx">MiKTeX</a>.</li><br /></ol><br /><h3>Enable CJK support</h3><br /><ol><br /><li>Run Start->Programs->MiKTeX 2.5->Settings</li><br /><li>From the <em>Packages</em> tab, expand <em>Language Support</em>, then <em>Chinese, Japanese, Korean</em>, and select the <em>cjk</em> and <em>cjk-fonts</em> packages.</li><br /><li>Click <em>OK</em> and let it do its thing.</li><br /></ol><br /><h2>Test your install</h2><br /><h3>Test English</h3><br /><ol><br /><li>Create a plain-text file named test_eng.tex in a simple location (i.e. c:\temp) with the following contents:<br /><code><br />\documentclass{article}<br />\begin{document}<br />Hello, world!<br />\end{document}<br /></code><br /></li><br /><li>Open a command prompt, and cd to the directory in which you created test_eng.tex and execute the following command:<br /><code><br />latex test_eng.tex<br /></code><br />You should now have a file called test_eng.dvi.<br /></li><br /><li>Double-click on test_eng.dvi from explorer OR run:<br /><code>yap test_eng.dvi</code><br />from the earlier command prompt to ensure that it works.<br /></li></ol><br /><h3>Test Japanese</h3><br /><ol><br /><li>Create a <em>euc-jp (JIS) encoded</em> file named test_jap.tex in a simple location (i.e. c:\temp) with the following contents:<br /><code><br />\documentclass{article}<br />\usepackage{CJK}<br />\begin{document}<br />\begin{CJK*}[dnp]{JIS}{min}<br />世界、こんにちは！<br />\end{CJK*}<br />\end{document}<br /></code><br /></li><br /><li>Open a command prompt, and cd to the directory in which you created test_jap.tex and execute the following command:<br /><code><br />latex test_jap.tex<br /></code><br />You should now have a file called test_jap.dvi.<br /></li><br /><li>Double-click on test_jap.dvi from explorer OR run:<br /><code>yap test_jap.dvi</code><br />from the earlier command prompt to ensure that it works.<br /></li></ol><br />NOTE:<br /><br />Yap was giving me trouble displaying Japanese. If that's the case for you, convert the .dvi file to .ps with dvips and check it that way:<br /><code>dvips test_jap.dvi</code><br />If you don't have a .ps viewer, you can convert it to a .pdf with ps2pdf and check it that way:<br /><code>ps2pdf test_jap.ps</code><br /><h2>Notes:</h2><br /><h3>Displaying the reading/furigana/yomikata of characters</h3><br /><ol><br /><li>Include the <em>ruby</em> package in your *.tex document:<br /><code>\usepackage[overlap, CJK]{ruby}</code></li><br /><li>Indicate which characters you want to show the reading of with:<br /><code>\ruby{base character(s)}{reading}</code></li><br /></ol><br />Example:<br /><code><br />\documentclass{article}<br />\usepackage{CJK}<br />\usepackage[overlap, CJK]{ruby}<br /><br />\begin{document}<br />\begin{CJK*}[dnp]{JIS}{min}<br /><br />\ruby{醤油}{しょうゆ}<br /><br />\end{CJK*}<br />\end{document}<br /></code><br />You can also use the <em>rubysep</em> and <em>rubysize</em> commands to change the spacing between the furigana and their characters, and the size of the furigana, repectively. Example:<br /><code><br />\renewcommand{\rubysep}{0.0ex} % Default is -0.5ex<br />\renewcommand{\rubysize}{0.5} % Default is 0.4<br /></code><br /><h3>Vertical text</h3><br />Apparently LaTeX doesn't actually support vertical text. But, it can be faked by rotating all characters 90 degrees.<br /><ol><br /><li>Include the <em>CJKvert</em> package in your *.tex file:<br /><code>\usepackage{CJKvert}</code></li><br /><li>Use <em>CJKvert</em> (enabled by default) and <em>CJKhorz</em> commands to change between vertical and horizontal writing:<br /><code>A bunch of vertical text<br />...<br />\CJKhorz<br />A bunch of horizontal text<br />...<br />\CJKvert<br />Even more vertical text<br />...<br /></code><br /></li><br /></ol><br /><h3>Further information</h3><br />Documentation for MiKTeX's CJK package can be found in the path_to_miktex\doc\latex\CJK\ directory. The following files are of particular interest:<br /><ul><br /><li>CJK.doc - overview of package</li><br /><li>commands.doc - commands in package</li><br /><li>cjk-enc.doc - about Emacs plugin</li><br /><li>ruby.doc - details on ruby (no rails here)</li><br /><li>vertical.doc - details on vertical writing</li><br /><li>Japanese\japanese.doc - overview of using Japanese</li><br /><li>Japanese\shibuaki.doc - handling space between Kanji and non-Kanji characters</li><br /></ul><br /><br /><br />FAQ<br />How do I view PS files from Windows?<br />Get <a href="http://www.cs.wisc.edu/~ghost/gsview/">GSview</a> and <a href="http://www.cs.wisc.edu/~ghost/doc/AFPL/index.htm">Ghostscript</a>.<br /><br />I keep getting weird errors like "char code out of range" or<br />You're file probably isn't euc-jp encoded. If you use vi(m) you can:<br /><pre class="code">:set fileencoding=euc-jp<br />:w<br /></pre><br />To correct the problem. If you use something other than vi... well, you've got far worse problems than I can solve. Try <a href="http://www.google.com/">these guys</a>.<br /><br />I can generate PS files ok, but pdf files are full of garbage...<br />Yeah, I had that problem too.  Apparently ps2pdf doesn't know what to do with with the non-English output from dvips.  There seem to be two solutions:<br />1. The Japanese LaTeX book I looked as was using dvipdfm or dvipdfmx to convert directly from dvi->pdf rather than the normal (for English) route of dvi--(dvips)->ps--(ps2pdf)->pdf.<br />2. If that doesn't work, you can also try using dvipsv (NOTE: the "v") then ps2pdf.<br /><br /><br />References:<br /><a href="http://www.ling.ed.ac.uk/~s0453746/japanese.html">http://www.ling.ed.ac.uk/~s0453746/japanese.html</a><br /><a href="http://www.ling.ed.ac.uk/~s0453746/japanese/japaneselatex.html">http://www.ling.ed.ac.uk/~s0453746/japanese/japaneselatex.html</a> - Japanese + LaTeX + Windows using MiKTeX<br /><a href="http://www.misojiro.t.u-tokyo.ac.jp/~kuroky/tex/">http://www.misojiro.t.u-tokyo.ac.jp/~kuroky/tex/</a> [Japanese] - ptetex setup for Cygwin<br /><a href="http://www.nn.iij4u.or.jp/~tutimura/tex/ptetex.en.html">http://www.nn.iij4u.or.jp/~tutimura/tex/ptetex.en.html</a> [in English, <a href="http://www.nn.iij4u.or.jp/~tutimura/tex/ptetex.html">Japanese</a>] - Home of ptetex<br /><a href="http://www.fsci.fuk.kindai.ac.jp/~kakuto/win32-ptex/web2c75-e.html">http://www.fsci.fuk.kindai.ac.jp/~kakuto/win32-ptex/web2c75-e.html</a>[in English, <a href="http://www.fsci.fuk.kindai.ac.jp/~kakuto/win32-ptex/web2c75.html">Japanese</a>] - Native build of platex for Windows